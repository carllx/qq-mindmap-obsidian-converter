---
description: è§„èŒƒ Markdown å¤„ç†æµç¨‹ï¼Œé‡ç‚¹ä½¿ç”¨ markdown-it ä»¤ç‰Œç³»ç»Ÿè¿›è¡Œå¯Œæ–‡æœ¬è½¬æ¢ã€‚æ¶µç›–ä»¤ç‰Œç±»å‹å¤„ç†ã€æ ¼å¼ä¿æŒã€è¯­ä¹‰ä¿æŒã€è¾¹ç¼˜æƒ…å†µå¤„ç†ç­‰å…³é”®æ–¹é¢ï¼Œç¡®ä¿è½¬æ¢çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚
alwaysApply: false
---
# Markdown å¤„ç†è§„åˆ™

## ğŸ”§ Markdown-it ä»¤ç‰Œå¤„ç†

### ä»¤ç‰Œç±»å‹ç†è§£
- **å†…è”ä»¤ç‰Œ**ï¼šå¤„ç†æ–‡æœ¬ã€é“¾æ¥ã€å¼ºè°ƒç­‰å†…è”å…ƒç´ 
- **å—çº§ä»¤ç‰Œ**ï¼šå¤„ç†æ ‡é¢˜ã€æ®µè½ã€åˆ—è¡¨ã€ä»£ç å—ç­‰å—çº§å…ƒç´ 
- **åµŒå¥—å†…å®¹**ï¼šæ­£ç¡®å¤„ç†å¤æ‚çš„åµŒå¥—ç»“æ„
- **è‡ªå®šä¹‰ä»¤ç‰Œ**ï¼šè€ƒè™‘ç‰¹æ®Šå†…å®¹çš„è‡ªå®šä¹‰ä»¤ç‰Œç±»å‹

### ä»¤ç‰Œå¤„ç†æ¨¡å¼
```javascript
// å¤„ç†å†…è”ä»¤ç‰Œ
function processInlineTokens(tokens) {
    return tokens.map(token => {
        switch (token.type) {
            case 'text': return processTextToken(token);
            case 'link_open': return processLinkToken(token);
            case 'strong_open': return processStrongToken(token);
            // ... å…¶ä»–ä»¤ç‰Œç±»å‹
        }
    });
}

// å¤„ç†å—çº§ä»¤ç‰Œ
function processBlockTokens(tokens) {
    return tokens.map(token => {
        switch (token.type) {
            case 'heading_open': return processHeadingToken(token);
            case 'code_block': return processCodeBlockToken(token);
            case 'list_item_open': return processListItemToken(token);
            // ... å…¶ä»–ä»¤ç‰Œç±»å‹
        }
    });
}
```

## ğŸ“‹ è½¬æ¢æŒ‘æˆ˜

### æ ¼å¼ä¿æŒ
- å°½å¯èƒ½ä¿æŒåŸå§‹æ ¼å¼
- å¤„ç†ç‰¹æ®Šå­—ç¬¦å’Œè½¬ä¹‰åºåˆ—
- ä¿æŒåˆ—è¡¨ç¼©è¿›å’Œå±‚çº§ç»“æ„
- æ­£ç¡®å¤„ç†ä»£ç å—çš„è¯­è¨€æ ‡è¯†

### è¯­ä¹‰ä¿æŒ
- ä¿æŒå«ä¹‰è€Œä¸ä»…ä»…æ˜¯è¯­æ³•
- æ­£ç¡®å¤„ç†é“¾æ¥å’Œå›¾ç‰‡çš„ alt æ–‡æœ¬
- ä¿æŒæ ‡é¢˜å±‚çº§å…³ç³»
- å¤„ç†è¡¨æ ¼ç»“æ„å’Œå¯¹é½

### è¾¹ç¼˜æƒ…å†µå¤„ç†
- ä¼˜é›…åœ°å¤„ç†æ ¼å¼é”™è¯¯æˆ–ä¸å®Œæ•´çš„è¾“å…¥
- å¤„ç†ä¸å¯»å¸¸æˆ–å¤æ‚çš„åµŒå¥—ç»“æ„
- è€ƒè™‘å¤§æ–‡æ¡£å’Œå¤æ‚ç»“æ„çš„æ€§èƒ½ä¼˜åŒ–

## ğŸ¯ å…·ä½“è€ƒè™‘

### ä»£ç å—å¤„ç†
```javascript
// ä»£ç å—è½¬æ¢ç¤ºä¾‹
function createCodeBlockNode(codeLines, language) {
    const codeContent = codeLines.join('\n');
    const title = language ? `\`\`\`${language}` : '```';
    
    return {
        title: createRichTextNode(title),
        labels: [CODE_BLOCK_LABEL],
        notes: { content: `<pre><code>${escapeHtml(codeContent)}</code></pre>` },
        children: { attached: [] }
    };
}
```

### å¯Œæ–‡æœ¬å¤„ç†
```javascript
// å¯Œæ–‡æœ¬è½¬æ¢ç¤ºä¾‹
function createRichTextNode(markdown) {
    const tokens = markdownIt.parse(markdown, {});
    return buildRichTextFromTokens(tokens);
}

function buildRichTextFromTokens(tokens) {
    // æ„å»ºå¯Œæ–‡æœ¬ç»“æ„çš„é€»è¾‘
    // å¤„ç†å†…è”æ ¼å¼ã€é“¾æ¥ã€å›¾ç‰‡ç­‰
}
```

### ç‰¹æ®Šå­—ç¬¦å¤„ç†
```javascript
// HTML è½¬ä¹‰å‡½æ•°
function escapeHtml(text) {
    return text
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
}
```

## ğŸ“š å­¦ä¹ èµ„æº

### Markdown-it èµ„æº
- **å®˜æ–¹æ–‡æ¡£**ï¼šä½¿ç”¨ MCP Context7 è®¿é—® markdown-it æ–‡æ¡£
- **æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ**ï¼šæ¢ç´¢ç°æœ‰æ’ä»¶ä»¥è·å–çµæ„Ÿ
- **ä»¤ç‰Œå¤„ç†**ï¼šæ·±å…¥äº†è§£ markdown-it çš„ä»¤ç‰Œç³»ç»Ÿ
- **æœ€ä½³å®è·µ**ï¼šéµå¾ªå·²å»ºç«‹çš„ markdown å¤„ç†æ¨¡å¼

### æ€§èƒ½ä¼˜åŒ–
- ç¼“å­˜è§£æç»“æœä»¥é¿å…é‡å¤å¤„ç†
- ä½¿ç”¨æµå¼å¤„ç†å¤„ç†å¤§æ–‡æ¡£
- ä¼˜åŒ–ä»¤ç‰Œéå†ç®—æ³•
- è€ƒè™‘å†…å­˜ä½¿ç”¨å’Œåƒåœ¾å›æ”¶

