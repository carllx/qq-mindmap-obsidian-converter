# æµ‹è¯•ç­–ç•¥

## ğŸ§ª æµ‹è¯•æ¶æ„

### æ¨¡å—åŒ–æµ‹è¯•è®¾è®¡
- **æ•°æ®å¤ç”¨**ï¼šé¿å…é‡å¤ç”Ÿæˆå¤§é‡å ä½ç¬¦
- **ç®€åŒ–è®¾è®¡**ï¼šä½¿ç”¨ `SimpleTestSuite` æ›¿ä»£å¤æ‚çš„æ¨¡å—ç³»ç»Ÿ
- **Tampermonkeyé€‚é…**ï¼šæ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒå’ŒCDNä¾èµ–
- **é…ç½®é©±åŠ¨**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†æµ‹è¯•è¡Œä¸º

### æµ‹è¯•åˆ†ç±»
- **åŸºç¡€æµ‹è¯•**ï¼šæ ¸å¿ƒåŠŸèƒ½éªŒè¯
- **è¾¹ç•Œæµ‹è¯•**ï¼šè¾¹ç¼˜æƒ…å†µå’Œé”™è¯¯å¤„ç†
- **é”™è¯¯æµ‹è¯•**ï¼šæ ¼å¼é”™è¯¯å’Œå¼‚å¸¸æƒ…å†µ
- **æ€§èƒ½æµ‹è¯•**ï¼šè½¬æ¢é€Ÿåº¦å’Œèµ„æºä½¿ç”¨

## ğŸ“‹ æµ‹è¯•ç”¨ä¾‹è®¾è®¡

### åŸºç¡€æµ‹è¯•ç”¨ä¾‹
```javascript
// åŸºç¡€æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹
const BASE_TEST_DATA = {
    simpleHeader: {
        markdown: `# æ ‡é¢˜\n\nè¿™æ˜¯å†…å®¹`,
        description: 'åŸºç¡€æ ‡é¢˜ç»“æ„'
    },
    parallelText: {
        markdown: `# ä¸»æ ‡é¢˜\n\nç¬¬ä¸€è¡Œæ­£æ–‡\nç¬¬äºŒè¡Œæ­£æ–‡`,
        description: 'åŒçº§æ–‡æœ¬èŠ‚ç‚¹ï¼ˆé—®é¢˜1ï¼‰'
    },
    codeBlockWithSpecialChars: {
        markdown: `# ä»£ç å—\n\n\`\`\`javascript\nArtist('s )Name\n\`\`\``,
        description: 'ä»£ç å—ç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼ˆé—®é¢˜2ï¼‰'
    }
};
```

### è¾¹ç•Œæµ‹è¯•ç”¨ä¾‹
```javascript
// è¾¹ç•Œæµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹
const EDGE_CASES = {
    emptyContent: {
        markdown: '',
        description: 'ç©ºè¡Œå¤„ç†'
    },
    specialCharacters: {
        markdown: `# ç‰¹æ®Šå­—ç¬¦\n\n<>&"'`,
        description: 'HTMLç‰¹æ®Šå­—ç¬¦è½¬ä¹‰'
    },
    nestedStructure: {
        markdown: `# æ ‡é¢˜1\n## æ ‡é¢˜2\n### æ ‡é¢˜3\n#### æ ‡é¢˜4`,
        description: 'æ·±å±‚åµŒå¥—ç»“æ„'
    }
};
```

## ğŸ” éªŒè¯æ–¹æ³•

### å†…å®¹å®Œæ•´æ€§éªŒè¯
- **æ ‡é¢˜å†…å®¹**ï¼šç¡®ä¿æ ‡é¢˜å†…å®¹è¢«ä¿ç•™
- **ä»£ç å—å†…å®¹**ï¼šéªŒè¯ä»£ç å—å†…å®¹å®Œæ•´
- **åˆ—è¡¨ç»“æ„**ï¼šä¿æŒåˆ—è¡¨å±‚çº§ç»“æ„
- **å›¾ç‰‡ä¿¡æ¯**ï¼šä¿ç•™å›¾ç‰‡çš„altå’Œtitleä¿¡æ¯

### ç»“æ„å®Œæ•´æ€§éªŒè¯
- **æ ‡é¢˜å±‚çº§**ï¼šç¡®ä¿æ ‡é¢˜å±‚çº§æ­£ç¡®
- **èŠ‚ç‚¹å…³ç³»**ï¼šéªŒè¯èŠ‚ç‚¹å…³ç³»å‡†ç¡®
- **ç¼©è¿›ç»“æ„**ï¼šä¿æŒç¼©è¿›ç»“æ„ä¸€è‡´
- **ç‰¹æ®Šæ ‡ç­¾**ï¼šæ­£ç¡®å¤„ç†ç‰¹æ®Šæ ‡ç­¾

### åŒå‘è½¬æ¢éªŒè¯
```javascript
// åŒå‘è½¬æ¢éªŒè¯ç¤ºä¾‹
function validateBidirectionalConversion(original, mdToQQ, qqToMD) {
    const errors = [];
    const warnings = [];
    
    // åŸºç¡€éªŒè¯
    if (!mdToQQ || !mdToQQ.title) {
        errors.push('MDâ†’QQ è½¬æ¢ç»“æœæ— æ•ˆ');
    }
    
    if (!qqToMD || typeof qqToMD !== 'string') {
        errors.push('QQâ†’MD è½¬æ¢ç»“æœæ— æ•ˆ');
    }
    
    // å†…å®¹å®Œæ•´æ€§éªŒè¯
    if (original.includes('æ­£æ–‡') && !qqToMD.includes('æ­£æ–‡')) {
        warnings.push('å¯èƒ½ä¸¢å¤±äº†éƒ¨åˆ†å†…å®¹');
    }
    
    // ç»“æ„éªŒè¯
    if (original.includes('```') && !qqToMD.includes('```')) {
        warnings.push('ä»£ç å—å¯èƒ½æœªæ­£ç¡®å¤„ç†');
    }
    
    return { passed: errors.length === 0, errors, warnings };
}
```

## ğŸš€ æµ‹è¯•è¿è¡Œ

### å‘½ä»¤è¡Œé€‰é¡¹
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# åªè¿è¡ŒåŸºç¡€æµ‹è¯•
npm run test:basic

# è·³è¿‡æ€§èƒ½æµ‹è¯•
npm run test:perf

# è¯¦ç»†è¾“å‡º
npm run test:verbose

# æ˜¾ç¤ºå¸®åŠ©
npm run test:help
```

### æµ‹è¯•æŠ¥å‘Šæ ¼å¼
```json
{
  "report": {
    "passed": 15,
    "failed": 0,
    "total": 15,
    "details": [
      {
        "name": "simpleHeader",
        "type": "basic",
        "description": "åŸºç¡€æ ‡é¢˜ç»“æ„",
        "passed": true,
        "errors": [],
        "warnings": []
      }
    ]
  }
}
```

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### æ€§èƒ½åŸºå‡†
```javascript
// æ€§èƒ½æµ‹è¯•ç¤ºä¾‹
function testPerformance(converter, testData, iterations) {
    const startTime = performance.now();
    
    for (let i = 0; i < iterations; i++) {
        converter.convert(testData);
    }
    
    const endTime = performance.now();
    const totalTime = endTime - startTime;
    const averageTime = totalTime / iterations;
    const throughput = (iterations / totalTime) * 1000;
    
    return {
        totalTime,
        averageTime,
        iterations,
        throughput
    };
}
```

### æ€§èƒ½ç›‘æ§
- **è½¬æ¢é€Ÿåº¦**ï¼šæµ‹é‡è½¬æ¢æ—¶é—´
- **å†…å­˜ä½¿ç”¨**ï¼šç›‘æ§å†…å­˜æ¶ˆè€—
- **ååé‡**ï¼šè®¡ç®—æ¯ç§’å¤„ç†æ¬¡æ•°
- **èµ„æºä¼˜åŒ–**ï¼šè¯†åˆ«æ€§èƒ½ç“¶é¢ˆ

## ğŸ”§ æµ‹è¯•å·¥å…·

### Mock ç¯å¢ƒ
```javascript
// æ¨¡æ‹Ÿ Tampermonkey ç¯å¢ƒ
const { JSDOM } = require('jsdom');
const dom = new JSDOM('<!DOCTYPE html><html><body></body></html>');
global.window = dom.window;
global.document = dom.window.document;
global.navigator = dom.window.navigator;

// æ¨¡æ‹Ÿ CDN ä¾èµ–
const markdownIt = require('markdown-it');
const DOMPurify = require('dompurify');
```

### æµ‹è¯•éªŒè¯å™¨
```javascript
// æµ‹è¯•éªŒè¯å™¨ç¤ºä¾‹
class TestValidator {
    static validateNodeStructure(node, expected) {
        // éªŒè¯èŠ‚ç‚¹ç»“æ„
    }
    
    static validateConversionIntegrity(original, converted) {
        // éªŒè¯è½¬æ¢å®Œæ•´æ€§
    }
    
    static validateBidirectionalConversion(original, mdToQQ, qqToMD) {
        // éªŒè¯åŒå‘è½¬æ¢
    }
}
```

## ğŸ“š æœ€ä½³å®è·µ

### æµ‹è¯•ç¼–å†™
1. **æœ‰æ„ä¹‰åç§°**ï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„æµ‹è¯•ç”¨ä¾‹åç§°
2. **æ¸…æ™°æè¿°**ï¼šæä¾›æ¸…æ™°çš„æµ‹è¯•æè¿°
3. **è¾¹ç•Œæ¡ä»¶**ï¼šåŒ…å«è¾¹ç•Œæ¡ä»¶å’Œé”™è¯¯æƒ…å†µ
4. **ä»£è¡¨æ€§æ•°æ®**ï¼šä¿æŒæµ‹è¯•æ•°æ®çš„ä»£è¡¨æ€§

### æµ‹è¯•ç»´æŠ¤
1. **å®šæœŸæ›´æ–°**ï¼šå®šæœŸæ›´æ–°æµ‹è¯•æ•°æ®
2. **åŠæ—¶ä¿®å¤**ï¼šåŠæ—¶ä¿®å¤å¤±è´¥çš„æµ‹è¯•
3. **å¯è¯»æ€§**ï¼šä¿æŒæµ‹è¯•ä»£ç çš„å¯è¯»æ€§
4. **å˜æ›´è®°å½•**ï¼šè®°å½•é‡è¦çš„æµ‹è¯•å˜æ›´
description:
globs:
alwaysApply: false
---
